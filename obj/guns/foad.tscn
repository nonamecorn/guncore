[gd_scene format=3 uid="uid://beeabqpl43msb"]

[ext_resource type="PackedScene" uid="uid://ctrbcy5h47qqw" path="res://obj/components/gun_base.tscn" id="1_kwsex"]
[ext_resource type="Texture2D" uid="uid://dlxfi8ytm1bqx" path="res://img/misc/Medium_casing.png" id="2_6ey2s"]
[ext_resource type="Script" uid="uid://pegu5tln4i1u" path="res://obj/parts/scripts/item.gd" id="2_k01fg"]
[ext_resource type="Resource" uid="uid://clwomb4qelbku" path="res://obj/newparts/barrels/FOAD_barrel.tres" id="3_0fpqu"]
[ext_resource type="Resource" uid="uid://bdwhjqlgkbp5s" path="res://obj/newparts/mags/FOAD_mag.tres" id="4_4b2ux"]
[ext_resource type="Texture2D" uid="uid://doxn8pp40a4g" path="res://img/parts2/reciver/FOAD_anim.png" id="4_6ey2s"]
[ext_resource type="Texture2D" uid="uid://q0gjtfmpgyr7" path="res://img/misc/new_muzzleflash.png" id="7_k01fg"]
[ext_resource type="AudioStream" uid="uid://bseru4wnpe0hh" path="res://snd/sfx/ar_fire.wav" id="8_0fpqu"]

[sub_resource type="Animation" id="Animation_k01fg"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Reciever:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("MAG:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-3, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("MAG:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Phand:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(5, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Phand2:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-5, 2)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Phand2:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Phand:rotation")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("MAG:visible")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("pos/muzzleflash:frame")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("pos/muzzleflash:visible")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_0fpqu"]
resource_name = "fire"
length = 0.08
step = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Reciever:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.015, 0.03, 0.045, 0.06, 0.074),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 0]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.03),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"fire"
}, {
"args": [],
"method": &"eject_brass"
}]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.04, 0.06, 0.07),
"transitions": PackedFloat32Array(1, 2, 2, 2),
"update": 0,
"values": [Vector2(0, 0), Vector2(-3, 0), Vector2(1, 0), Vector2(0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.035, 0.055, 0.07),
"transitions": PackedFloat32Array(1, 2, 2, 2),
"update": 0,
"values": [0.0, -0.05235988, 0.01745329251994329, 0.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("pos/muzzleflash:frame")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.008, 0.016, 0.024, 0.032),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("pos/muzzleflash:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.037),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_wsvm0"]
resource_name = "reload"
length = 2.0
step = 0.005
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Reciever:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.43, 1.49, 1.55, 1.655, 1.695, 1.73),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 4, 1, 2, 1, 4, 0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.3, 1.3, 1.43, 1.845, 1.965, 2),
"transitions": PackedFloat32Array(1, 2, 1, 1, 1, 1, 2, 2),
"update": 0,
"values": [0.0, -0.4363323129985824, -0.34906584, -0.34906584, 0.08726646259971647, 0.08726646259971647, -0.03490658503988659, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.15, 0.25, 0.3, 0.495, 0.60002536, 0.64, 1.155, 1.25, 1.3, 1.43, 1.845, 1.965, 2),
"transitions": PackedFloat32Array(1, 2, 2, 1, 1, 2, 1, 1, 2, 2, 1, 1, 2, 2),
"update": 0,
"values": [Vector2(0, 0), Vector2(2, -1.1920929e-07), Vector2(-2, -3), Vector2(-1.0000001, -2.0000002), Vector2(-1.0000001, -2.0000002), Vector2(0, -0.9999999), Vector2(-1.0000001, -2.0000002), Vector2(-1.0000001, -2.0000002), Vector2(-2.0000002, -3), Vector2(-1.0000001, -2.0000002), Vector2(1, 2), Vector2(1, 2), Vector2(0, -2), Vector2(0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("MAG:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.5, 0.6, 0.62, 0.745, 0.92, 1.065, 1.16, 1.3),
"transitions": PackedFloat32Array(2, 2, 2, 2, 2, 2, 2, 2),
"update": 0,
"values": [Vector2(-3, 0), Vector2(-3, 1), Vector2(-3, 1), Vector2(-3.0000002, 8.000001), Vector2(-12.133088, 4.09734), Vector2(-3, 5), Vector2(-3, 1), Vector2(-3, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("MAG:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.5, 0.6, 0.62, 0.745, 1.16, 1.3),
"transitions": PackedFloat32Array(2, 2, 2, 2, 2, 2),
"update": 0,
"values": [0.0, -0.17453292, -0.17453292, 0.0, -0.17453292, 0.0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Phand:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.0025, 0.3, 0.5, 0.6, 0.745, 0.92, 1.065, 1.16, 1.3, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 2, 2, 2, 2, 2, 2),
"update": 0,
"values": [Vector2(5, 1), Vector2(5, 1), Vector2(0.8408551, 3.4763775), Vector2(0.8408551, 3.4763775), Vector2(1, 11), Vector2(-8, 7), Vector2(2, 7), Vector2(2, 4), Vector2(1, 3), Vector2(5, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Phand2:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0.0025, 1.345, 1.43, 1.49, 1.55, 1.6, 1.7, 1.8),
"transitions": PackedFloat32Array(1, 1, 2, 2, 2, 1, 1, 2),
"update": 0,
"values": [Vector2(-5, 2), Vector2(-5, 2), Vector2(1, -3), Vector2(0, -3), Vector2(-1, -3), Vector2(-3, -3), Vector2(-3, -3), Vector2(-5, 2)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Phand2:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Phand:rotation")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 0.5, 0.6, 0.745, 1.3974999),
"transitions": PackedFloat32Array(1, 1, 2, 1, 1),
"update": 0,
"values": [0.0, 0.0, -0.17453292519943295, 0.0, 0.0]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("MAG:visible")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0, 0.745, 0.92),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}
tracks/10/type = "method"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath(".")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0.74),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"eject_mag"
}]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("pos/muzzleflash:visible")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4b2ux"]
_data = {
&"RESET": SubResource("Animation_k01fg"),
&"fire": SubResource("Animation_0fpqu"),
&"reload": SubResource("Animation_wsvm0")
}

[sub_resource type="ViewportTexture" id="ViewportTexture_0fpqu"]
viewport_path = NodePath("SubViewport")

[node name="FOAD" unique_id=577689113 instance=ExtResource("1_kwsex")]
brass_texture = ExtResource("2_6ey2s")
ver_recoil = 5.0
hor_recoil = 10.0
default_modules = Dictionary[String, ExtResource("2_k01fg")]({
"ATTACH": null,
"BARREL": ExtResource("3_0fpqu"),
"MAG": ExtResource("4_4b2ux"),
"MUZZLE": null
})

[node name="AnimationPlayer" parent="." index="0" unique_id=233868523]
libraries/ = SubResource("AnimationLibrary_4b2ux")

[node name="Node" parent="AnimationPlayer" index="0" unique_id=1025461610 node_paths=PackedStringArray("root_node", "animation_p")]
root_node = NodePath("../..")
animation_p = NodePath("..")

[node name="CollisionShape2D" parent="." index="1" unique_id=1651363459]
visible = false

[node name="Render" parent="." index="2" unique_id=1460667944]
texture = SubResource("ViewportTexture_0fpqu")

[node name="MAG" parent="." index="3" unique_id=1762944442]
position = Vector2(-3, 0)

[node name="BARREL" parent="." index="4" unique_id=1481952309]
position = Vector2(1, -5)

[node name="Reciever" parent="." index="5" unique_id=694329754]
position = Vector2(-5, 0)
texture = ExtResource("4_6ey2s")
hframes = 5

[node name="ejector" parent="." index="8" unique_id=1134795720]
position = Vector2(-3, -2)

[node name="muzzleflash" parent="pos" parent_id_path=PackedInt32Array(1562127439) index="0" unique_id=283036096]
texture = ExtResource("7_k01fg")
hframes = 5

[node name="shoting" parent="audio" parent_id_path=PackedInt32Array(238975974) index="1" unique_id=1511102791]
stream = ExtResource("8_0fpqu")

[node name="Phand2" parent="." index="13" unique_id=956056910]
position = Vector2(-5, 2)

[node name="Phand" parent="." index="14" unique_id=1564190309]
position = Vector2(5, 1)

[editable path="pos/muzzleflash"]
[editable path="pos/muzzleflash/light2"]
